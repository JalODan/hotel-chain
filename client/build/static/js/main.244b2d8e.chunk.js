(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},37:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(26),r=a.n(o),s=(a(37),a(12)),i=a(10),c=a(27),m=a(28),p=a(31),u=a(30),d=a(7),g=a(1),h=a(13),E=a.n(h),_=function(){return l.a.createElement("nav",{className:"navigation"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(d.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/service1"},"Service 1")),l.a.createElement("li",null,l.a.createElement(d.b,{to:"/service2"},"Service 2"))))},v=function(e){var t=e.state,a=e.logout,o=Object(g.f)();return l.a.createElement("main",null,l.a.createElement(_,null),t.isLogged?l.a.createElement(n.Fragment,null,l.a.createElement("p",null,t.user.firstname),l.a.createElement("button",{onClick:function(){a(),o.push("/")}},"Log out")):l.a.createElement(n.Fragment,null,l.a.createElement("button",{onClick:function(){o.push("/login")}},"Log in"),l.a.createElement("button",{onClick:function(){o.push("/signup")}},"Sign up")),l.a.createElement("h2",null,"This is home page!"),l.a.createElement("p",null,t.isLogged?"You are logged in.":"Please, log in."))},b=function(e){var t=e.state,a=e.logIn,n=e.handleLogin,o=Object(g.f)();return l.a.createElement("div",{className:"auth"},l.a.createElement("div",null,l.a.createElement("h3",null,"Log in"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(),o.push("/")}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"log-login"},"Login: "),l.a.createElement("input",{type:"text",id:"log-login",value:t.log_login,onChange:n,name:"log_login",placeholder:"Enter login"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"log-password"},"Password: "),l.a.createElement("input",{type:"password",id:"log-password",value:t.log_password,onChange:n,name:"log_password",placeholder:"Enter password"})),l.a.createElement("button",{type:"submit"},"Log in"),l.a.createElement("p",null,"Do not have an account?"),l.a.createElement("button",{onClick:function(){o.push("/signup")}},"Sign up"))))},f=function(e){var t=e.state,a=e.signUp,n=e.handleChange,o=Object(g.f)(),r=function(e){return t.signErrors[e].length>0?l.a.createElement("p",{className:"valid_error"},t.signErrors[e]):""};return l.a.createElement("div",null,l.a.createElement("h3",null,"Sign up"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(e.target),o.push("/")}},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"firstname"},"Firstname: "),l.a.createElement("input",{type:"text",id:"firstname",name:"firstname",value:t.signInfo.firstname,onChange:n})),r("firstname"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"lastname"},"Lastname: "),l.a.createElement("input",{type:"text",id:"lastname",name:"lastname",value:t.signInfo.lastname,onChange:n})),r("lastname"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"password"},"Password: "),l.a.createElement("input",{type:"password",id:"password",name:"password",value:t.signInfo.password,onChange:n})),r("password1"),r("password2"),r("password3"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"repeat_password"},"Repeat Password: "),l.a.createElement("input",{type:"password",id:"repeat_password",name:"repeat_password",value:t.signInfo.repeat_password,onChange:n})),r("repeat_password"),l.a.createElement("p",null),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"id_type",id:"id_type"},"ID type: "),l.a.createElement("select",{name:"id_type",value:t.signInfo.id_type,onChange:n},l.a.createElement("option",{value:""},"Choose ID Type"),l.a.createElement("option",{value:"us_passport"},"US passport"),l.a.createElement("option",{value:"driving_license"},"Driving license"))),r("id_type"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"id_number"},"ID Number: "),l.a.createElement("input",{type:"text",id:"id_number",name:"id_number",value:t.signInfo.id_number,onChange:n})),r("id_number"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"address"},"Address: "),l.a.createElement("input",{type:"text",id:"address",name:"address",value:t.signInfo.address,onChange:n})),r("address"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"mobile_phone"},"Mobile phone: "),l.a.createElement("input",{type:"tel",id:"mobile_phone",name:"mobile_phone",value:t.signInfo.mobile_phone,onChange:n})),r("mobile_phone"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"home_phone"},"Home phone: "),l.a.createElement("input",{type:"tel",id:"home_phone",name:"home_phone",value:t.signInfo.home_phone,onChange:n})),r("home_phone"),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"category"},"Category: "),l.a.createElement("div",{id:"category"},l.a.createElement("input",{type:"radio",id:"cat_military",value:"military",checked:"military"===t.signInfo.category,onChange:n,name:"category"}),l.a.createElement("label",{htmlFor:"cat_military"},"Military"),l.a.createElement("input",{type:"radio",id:"cat_vip",value:"vip",checked:"vip"===t.signInfo.category,onChange:n,name:"category"}),l.a.createElement("label",{htmlFor:"cat_vip"},"Vip"))),l.a.createElement("button",{type:"submit"},"Submit")))},w="http://localhost:8080/backend_war_exploded",y=(a(60),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleLogin=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(i.a)({},n,l))},e.handleChange=function(t){var a=t.target,n=a.value,l=a.name,o=e.state.signInfo,r=e.state.signErrors;switch(l){case"password":r.password1=n.length<6?"Password should contain at least 6 characters and digits.":"",r.password2=n.match(/[a-zA-Z]/)?"":"Password should contain at least 1 english letter.",r.password3=n.match(/[0-9]/)?"":"Password should contain at least 1 digit.",r.repeat_password=n!==o.repeat_password?"Passwords do not match.":"";break;case"repeat_password":r.repeat_password=n!==o.password?"Passwords do not match.":"";break;case"category":break;default:r[l]=n.match(/[\S]/)?"":"This field cannot be empty."}e.setState((function(e){return{signInfo:Object(s.a)(Object(s.a)({},e.signInfo),{},Object(i.a)({},l,n)),signErrors:r}}))},e.logIn=function(){E.a.post("".concat(w,"/services/auth/login"),{login:e.state.log_login,password:e.state.log_password}).then((function(t){e.setState({user:t.data,log_login:"",log_password:"",isLogged:!0})})).catch((function(t){e.setState({log_login:"",log_password:"",isLogged:!1}),window.alert("Cannot access the server!"),console.log(t)}))},e.checkSignUpValidity=function(){var t=e.state.signErrors,a=!0;return Object.values(t).forEach((function(e){return 0===e.length&&(a=!1)})),a},e.signUp=function(){var t=e.state.signInfo;E.a.post("".concat(w,"/services/auth/signup"),{firstname:t.firstname,lastname:t.lastname,password:t.repeat_password,repeat_password:t.repeat_password,id_type:t.id_type,id_number:t.id_number,address:t.address,mobile_phone:t.mobile_phone,home_phone:t.home_phone,category:t.category}).catch((function(e){window.alert("Cannot access the server!"),console.log(e)})).then((function(e){window.alert("You are signed up successfully!")}))},e.logout=function(){e.setState({user:{},isLogged:!1})},e.state={isLogged:!1,user:{},log_login:"",log_password:"",signInfo:{firstname:"",lastname:"",password:"",repeat_password:"",id_type:"",id_number:"",address:"",mobile_phone:"",home_phone:"",category:""},signErrors:{firstname:"",lastname:"",password1:"",password2:"",password3:"",repeat_password:"",id_type:"",id_number:"",address:"",mobile_phone:"",home_phone:""}},e}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/"},l.a.createElement(v,{state:this.state,login:this.login,logout:this.logout})),l.a.createElement(g.a,{exact:!0,path:"/service1"},l.a.createElement(v,{state:this.state,login:this.login,logout:this.logout})),l.a.createElement(g.a,{exact:!0,path:"/service2"},l.a.createElement(v,{state:this.state,login:this.login,logout:this.logout})),l.a.createElement(g.a,{exact:!0,path:"/login"},l.a.createElement(b,{state:this.state,logIn:this.logIn,handleLogin:this.handleLogin})),l.a.createElement(g.a,{exact:!0,path:"/signup"},l.a.createElement(f,{state:this.state,signUp:this.signUp,handleChange:this.handleChange})))))}}]),a}(n.Component));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(y,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.244b2d8e.chunk.js.map