(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,a){e.exports=a(62)},37:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),i=a.n(l),o=(a(37),a(27)),s=a(28),c=a(31),m=a(30),u=a(8),d=a(1),p=a(10),E=a.n(p),h=function(e){var t=e.state,a=e.logOut,l=Object(d.f)();return r.a.createElement("div",null,r.a.createElement("nav",{className:"navigation"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(u.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/booking"},"Booking")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/profile"},"Profile")))),t.isLogged?r.a.createElement(n.Fragment,null,r.a.createElement("p",null,t.user.firstname),r.a.createElement("button",{onClick:function(){a(),l.push("/")}},"Log out")):r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){l.push("/login")}},"Log in"),r.a.createElement("button",{onClick:function(){l.push("/signup")}},"Sign up")))},g=function(e){var t=e.state;return r.a.createElement("main",null,r.a.createElement("h2",null,"This is home page for ",t.user.type,"!"),r.a.createElement("p",null,t.isLogged?"You are logged in.":"Please, log in."))},b=a(12),f="http://localhost:8080/backend_war_exploded",v=function(e){var t=e.handleLoginSubmit,a=Object(d.f)(),n=Object(b.a)(),l=n.register,i=n.errors,o=n.handleSubmit;return r.a.createElement("div",{className:"auth"},r.a.createElement("div",null,r.a.createElement("h3",null,"Log in"),r.a.createElement("form",{onSubmit:o((function(e){!function(e){E.a.post("".concat(f,"/services/auth/login"),{login:e.logLogin,password:e.logPassword}).then((function(e){t({user:e.data,isLogged:!0})})).catch((function(e){t({user:{},isLogged:!1}),window.alert("Cannot access the server!"),console.log(e)}))}(e)}))},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"log-login"},"Login: "),r.a.createElement("input",{type:"text",id:"logLogin",name:"logLogin",placeholder:"Enter login",ref:l({required:!0})})),i.logLogin&&r.a.createElement("p",{className:"validError"},"This field is required!"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"log-password"},"Password: "),r.a.createElement("input",{type:"password",id:"logPassword",name:"logPassword",placeholder:"Enter password",ref:l({required:!0})})),i.logPassword&&r.a.createElement("p",{className:"validError"},"This field is required!"),r.a.createElement("button",{type:"submit"},"Log in"),r.a.createElement("p",null,"Do not have an account?"),r.a.createElement("button",{onClick:function(){a.push("/signup")}},"Sign up"))))},w=function(){var e=Object(d.f)(),t=Object(b.a)(),a=t.register,n=t.errors,l=t.watch,i=t.handleSubmit,o=function(e){return r.a.createElement("p",{className:"validError"},e)};return r.a.createElement("div",null,r.a.createElement("h3",null,"Sign up"),r.a.createElement("form",{onSubmit:i((function(t){E.a.post("".concat(f,"/services/auth/signup"),{firstname:t.firstname,lastname:t.lastname,password:t.password,id_type:t.idType,id_number:t.idNumber,address:t.address,mobile_phone:t.mobilePhone,home_phone:t.homePhone,category:t.category}).then((function(t){window.alert("You are signed up successfully!"),e.push("/login")})).catch((function(e){window.alert("Cannot access the server!"),console.log(e)}))}))},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"firstname"},"Firstname: "),r.a.createElement("input",{type:"text",id:"firstname",name:"firstname",ref:a({required:!0})})),n.firstname&&o("Firstname is required!"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"lastname"},"Lastname: "),r.a.createElement("input",{type:"text",id:"lastname",name:"lastname",ref:a({required:!0})})),n.lastname&&o("Lastname is required!"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("input",{type:"password",id:"password",name:"password",ref:a({minLength:6,validate:{letters:function(e){return/[a-zA-Z]/.test(e)},digits:function(e){return/[0-9]/.test(e)}}})})),n.password&&"minLength"===n.password.type&&o("Password should contain at least 6 characters!"),n.password&&"letters"===n.password.type&&o("Password should contain at least 1 english letter!"),n.password&&"digits"===n.password.type&&o("Password should contain at least 1 digit!"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"repeat_password"},"Repeat Password: "),r.a.createElement("input",{type:"password",id:"repeatPassword",name:"repeatPassword",ref:a({validate:{confirmPassword:function(e){return e===l("password")}}})})),n.repeatPassword&&"confirmPassword"===n.repeatPassword.type&&o("Passwords do not match!"),r.a.createElement("p",null),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"idType",id:"id_type"},"ID type: "),r.a.createElement("select",{name:"idType",ref:a({required:!0})},r.a.createElement("option",{value:""},"Choose ID Type"),r.a.createElement("option",{value:"us_passport"},"US passport"),r.a.createElement("option",{value:"driving_license"},"Driving license"))),n.idType&&o("Choose ID Type"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"id_number"},"ID Number: "),r.a.createElement("input",{type:"text",id:"idNumber",name:"idNumber",ref:a({required:!0})})),n.idNumber&&o("ID Number is required!"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"address"},"Address: "),r.a.createElement("input",{type:"text",id:"address",name:"address",ref:a({required:!0})})),n.address&&o("Address is required!"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"mobile_phone"},"Mobile phone: "),r.a.createElement("input",{type:"tel",id:"mobilePhone",name:"mobilePhone",ref:a({required:!0})})),n.mobilePhone&&o("Mobile phone is required!"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"home_phone"},"Home phone: "),r.a.createElement("input",{type:"tel",id:"homePhone",name:"homePhone",ref:a({required:!0})})),n.homePhone&&o("Home phone is required!"),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"category"},"Category: "),r.a.createElement("div",{id:"category"},r.a.createElement("input",{type:"radio",id:"cat_none",value:"",ref:a,name:"category"}),r.a.createElement("label",{htmlFor:"cat_none"},"None"),r.a.createElement("input",{type:"radio",id:"cat_military",value:"military",ref:a,name:"category"}),r.a.createElement("label",{htmlFor:"cat_military"},"Military"),r.a.createElement("input",{type:"radio",id:"cat_vip",value:"vip",ref:a,name:"category"}),r.a.createElement("label",{htmlFor:"cat_vip"},"Vip"))),r.a.createElement("button",{type:"submit"},"Submit")))},y=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is Profile page!"))},P=function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is Booking page!"))},L=(a(61),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleLoginSubmit=function(t){e.setState(t)},e.logOut=function(){e.setState({user:{},isLogged:!1})},e.state={isLogged:!1,user:{type:"user"}},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,{basename:"/backend_war_exploded"},r.a.createElement("div",{className:"App"},r.a.createElement(h,{state:this.state,logOut:this.logOut}),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(g,{state:this.state,login:this.login,logOut:this.logout})),r.a.createElement(d.a,{exact:!0,path:"/booking"},r.a.createElement(P,null)),r.a.createElement(d.a,{exact:!0,path:"/profile"},r.a.createElement(y,null)),r.a.createElement(d.a,{exact:!0,path:"/login"},r.a.createElement(v,{handleLoginSubmit:this.handleLoginSubmit})),r.a.createElement(d.a,{exact:!0,path:"/signup"},r.a.createElement(w,null)))))}}]),a}(n.Component));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.f70f22ad.chunk.js.map