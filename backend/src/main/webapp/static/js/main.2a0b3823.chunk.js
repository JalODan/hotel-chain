(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a(70)},45:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(34),o=a.n(r),s=(a(45),a(35)),i=a(36),c=a(39),u=a(38),m=a(10),d=a(2),p=a(11),g=a.n(p),h=a(16),E=a(17),b=function(e){var t=e.state,a=e.logOut,n=Object(d.f)(),r=function(){n.push("/profile")};return l.a.createElement("div",null,l.a.createElement("nav",{className:"navigation"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(m.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/booking"},"Booking")),t.isLogged&&l.a.createElement("li",null,l.a.createElement(m.b,{to:"/profile"},"Profile"))),t.isLogged?l.a.createElement("div",{className:"navLoggedIn"},l.a.createElement(h.a,{icon:E.a,className:"userIcon",onClick:r}),l.a.createElement("button",{className:"navButton",onClick:function(){a(),n.push("/")}},"Log out")):l.a.createElement("div",null,l.a.createElement("button",{className:"navButton",onClick:function(){n.push("/login")}},"Log in"),l.a.createElement("button",{className:"navButton",onClick:function(){n.push("/signup")}},"Sign up"))))},f=function(e){var t=e.state;return l.a.createElement("main",{className:"Home"},l.a.createElement("h2",{className:"homeMainText"},"This is home page for ",t.isLogged?t.user.firstname:"guest","!"),l.a.createElement("h3",{className:"homeWelcome"},"Welcome to our Hotel Chain!"),l.a.createElement("p",{className:"homeText"},"At our Hotel Chain, all-inclusive is synonymous with luxury. Our unique All Inclusive \u2013 All Exclusive offering combines all-inclusive advantages with exclusive privileges. The Hotel Chain offers exceptional escapes that go beyond the imagination to open a new world of horizons for our guests. Our expertise for balancing the ultra-all-inclusive concept with a vibrant, luxury ambience and family friendly adventures truly defines the Rixos experience. Rixos makes holiday dreams come true for everyone."))},v=a(5),y=a(18),w="http://localhost:8080/backend_war_exploded",N=function(e){var t=e.handleLoginSubmit,a=Object(d.f)(),r=Object(y.a)(),o=r.register,s=(r.errors,r.handleSubmit),i=Object(n.useState)(""),c=Object(v.a)(i,2),u=c[0],m=c[1];return l.a.createElement("div",{className:"Login"},l.a.createElement("div",null,l.a.createElement("h3",null,"Log in"),l.a.createElement("form",{onSubmit:s((function(e){g.a.post("".concat(w,"/services/auth/login"),{login:e.logLogin,password:e.logPassword}).then((function(e){console.log(e.data),console.log(Object.keys(e.data).length),0!==Object.keys(e.data).length?(t({user:e.data,isLogged:!0}),m(""),a.push("/")):(t({user:{},isLogged:!1}),m("Invalid login or password!"))})).catch((function(e){t({user:{},isLogged:!1}),window.alert("Cannot access the server!"),console.log(e)}))}))},l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"loginInput",name:"logLogin",placeholder:"Enter login",required:!0,ref:o({required:!0})})),l.a.createElement("div",null,l.a.createElement("input",{type:"password",className:"loginInput",name:"logPassword",placeholder:"Enter password",required:!0,minLength:"6",ref:o({required:!0})})),u&&l.a.createElement("p",{style:{color:"red"}},u),l.a.createElement("button",{className:"loginButton",type:"submit"},"Log in"),l.a.createElement("p",{className:"toSignupText"},"Do not have an account?"),l.a.createElement("button",{className:"signupButton",onClick:function(){a.push("/signup")}},"Sign up"))))},L=function(){var e=Object(d.f)(),t=Object(y.a)({mode:"onChange"}),a=t.register,r=t.errors,o=t.watch,s=t.handleSubmit,i=Object(n.useState)(!0),c=Object(v.a)(i,2),u=c[0],m=c[1],p=function(e){return l.a.createElement("p",{className:"validError"},e)};return l.a.createElement("div",{className:"Signup"},l.a.createElement("h3",null,"Sign up"),l.a.createElement("form",{onSubmit:s((function(t){if(u){var a=document.getElementById("signLogin").value;g.a.post("".concat(w,"/services/auth/signup"),{firstname:t.firstname,lastname:t.lastname,password:t.password,login:a,id_type:t.idType,id_number:t.idNumber,address:t.address,mobile_phone:t.mobilePhone,home_phone:t.homePhone,category:t.category}).then((function(t){window.alert("You are signed up successfully!"),e.push("/login")})).catch((function(e){window.alert("Cannot access the server!"),console.log(e)}))}}))},l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"signInput",name:"firstname",placeholder:"Firstname",required:!0,ref:a({required:!0})})),r.firstname&&p("Firstname is required!"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"signInput",name:"lastname",placeholder:"Lastname",required:!0,ref:a({required:!0})})),r.lastname&&p("Lastname is required!"),l.a.createElement("div",null,l.a.createElement("input",{type:"password",className:"signInput",name:"password",placeholder:"Password",ref:a({minLength:6,validate:{letters:function(e){return/[a-zA-Z]/.test(e)},digits:function(e){return/[0-9]/.test(e)}}})})),r.password&&"letters"===r.password.type&&p("Password should contain at least 1 english letter!"),r.password&&"minLength"===r.password.type&&p("Password should contain at least 6 characters!"),r.password&&"digits"===r.password.type&&p("Password should contain at least 1 digit!"),l.a.createElement("div",null,l.a.createElement("input",{type:"password",className:"signInput",name:"repeatPassword",placeholder:"Re-type password",ref:a({validate:{confirmPassword:function(e){return e===o("password")}}})})),r.repeatPassword&&"confirmPassword"===r.repeatPassword.type&&p("Passwords do not match!"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",id:"signLogin",className:"signInput",name:"signLogin",placeholder:"Login",required:!0,onChange:function(e){var t=e.target;g.a.post("".concat(w,"/services/auth/checkLogin"),{login:t.value}).then((function(e){m(!e.data)})).catch((function(e){window.alert("Cannot access the server!"),console.log(e)}))}})),!u&&p("This login is not available!"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"signInput",name:"address",placeholder:"Address",required:!0,ref:a({required:!0})})),r.address&&p("Address is required!"),l.a.createElement("div",{className:"signIdType"},l.a.createElement("label",{htmlFor:"idType",id:"id_type"},"ID type: "),l.a.createElement("select",{name:"idType",required:!0,ref:a({required:!0})},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"us_passport"},"US passport"),l.a.createElement("option",{value:"driving_license"},"Driving license"))),r.idType&&p("Choose ID Type"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"signInput",name:"idNumber",placeholder:"ID number",required:!0,ref:a({required:!0})})),r.idNumber&&p("ID Number is required!"),l.a.createElement("div",null,l.a.createElement("input",{type:"tel",className:"signInput",name:"mobilePhone",placeholder:"Mobile phone",required:!0,ref:a({required:!0})})),r.mobilePhone&&p("Mobile phone is required!"),l.a.createElement("div",null,l.a.createElement("input",{type:"tel",className:"signInput",name:"homePhone",placeholder:"Home phone",required:!0,ref:a({required:!0})})),r.homePhone&&p("Home phone is required!"),l.a.createElement("div",{className:"signCategory"},l.a.createElement("label",{htmlFor:"category"},"Category: "),l.a.createElement("div",{id:"category"},l.a.createElement("input",{type:"radio",id:"cat_none",value:"",ref:a,name:"category"}),l.a.createElement("label",{htmlFor:"cat_none"},"None"),l.a.createElement("input",{type:"radio",id:"cat_military",value:"military",ref:a,name:"category"}),l.a.createElement("label",{htmlFor:"cat_military"},"Military"),l.a.createElement("input",{type:"radio",id:"cat_vip",value:"vip",ref:a,name:"category"}),l.a.createElement("label",{htmlFor:"cat_vip"},"Vip"))),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"signupButton"},"Submit"))))},q=function(e){var t=e.state,a=t.user,r=t.isLogged,o=Object(n.useState)("**********"),s=Object(v.a)(o,2),i=s[0],c=s[1];return r?l.a.createElement("div",{className:"Profile"},console.log(a),l.a.createElement(h.a,{icon:E.a,className:"userProfileIcon"}),l.a.createElement("h3",null,"".concat(a.firstname," ").concat(a.lastname)),l.a.createElement("label",null,"Login: ")," ",a.login," ",l.a.createElement("br",null),l.a.createElement("label",null,"Address: ")," ",a.address," ",l.a.createElement("br",null),l.a.createElement("label",null,"Mobile phone: ")," ",a.mobile_phone," ",l.a.createElement("br",null),l.a.createElement("label",null,"Home phone: ")," ",a.home_phone," ",l.a.createElement("br",null),l.a.createElement("label",null,"Password: ")," ",i," ",l.a.createElement("button",{onClick:function(){i===a.password?c("**********"):c(a.password)}},"Show"),l.a.createElement("br",null)):""},k=function(e){var t=e.setBookingQuery,a=Object(d.f)();return l.a.createElement("div",{className:"Booking"},l.a.createElement("h3",null,"Find Hotels"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target,l=n.querySelector(".dest").value,r=n.querySelector("#startDate").value,o=n.querySelector("#endDate").value;g.a.post("".concat(w,"/services/booking/query"),{destination:l,start:r,end:o}).then((function(e){t(e.data),a.push("/booking/hotels")})).catch((function(e){window.alert("Cannot access the server!"),console.log(e)}))}},l.a.createElement("input",{type:"text",className:"dest",placeholder:"Enter destination"}),l.a.createElement("label",null,"Arrival: "),l.a.createElement("input",{type:"date",className:"bookingDate",id:"startDate",required:!0}),l.a.createElement("label",null,"Departure: "),l.a.createElement("input",{type:"date",className:"bookingDate",id:"endDate"}),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"findHotelsButton"},"Find hotels"))))},x=function(e){var t=e.state.hotelsList;return l.a.createElement("div",{className:"QueryResults"},l.a.createElement("h3",null,"Hotels Available"),t.forEach((function(e){return l.a.createElement("p",null,e.name)})))},S=(a(69),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleLoginSubmit=function(t){e.setState(t)},e.logOut=function(){e.setState({user:{},isLogged:!1})},e.setBookingQuery=function(t){e.setState({hotelsList:t})},e.state={isLogged:!1,user:{type:"user"},hotelsList:[]},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(m.a,{basename:"/backend_war_exploded"},l.a.createElement("div",{className:"App"},l.a.createElement(b,{state:this.state,logOut:this.logOut}),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/"},l.a.createElement(f,{state:this.state,login:this.login,logOut:this.logout})),l.a.createElement(d.a,{exact:!0,path:"/booking"},l.a.createElement(k,{setBookingQuery:this.setBookingQuery})),l.a.createElement(d.a,{exact:!0,path:"/booking/hotels"},l.a.createElement(x,{state:this.state})),l.a.createElement(d.a,{exact:!0,path:"/profile"},l.a.createElement(q,{state:this.state})),l.a.createElement(d.a,{exact:!0,path:"/login"},l.a.createElement(N,{handleLoginSubmit:this.handleLoginSubmit})),l.a.createElement(d.a,{exact:!0,path:"/signup"},l.a.createElement(L,null)))))}}]),a}(n.Component));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.2a0b3823.chunk.js.map